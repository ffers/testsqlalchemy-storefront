(()=>{var e={};e.id=796,e.ids=[796],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(23126),a=r(75313),n=r(96921),o=r.n(n),i=r(74022),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["[channel]",{children:["(main)",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37740)),"/Users/test/Documents/storefront/src/app/[channel]/(main)/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,85248)),"/Users/test/Documents/storefront/src/app/[channel]/(main)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,30181)),"/Users/test/Documents/storefront/src/app/[channel]/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,22345))).default(e),async e=>(await Promise.resolve().then(r.bind(r,37923))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,37))).default(e)],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,65475))).default(e)],twitter:[async e=>(await Promise.resolve().then(r.bind(r,56273))).default(e)],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,87466)),"/Users/test/Documents/storefront/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,23301)),"/Users/test/Documents/storefront/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,52735,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,86530,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,68059,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,22345))).default(e),async e=>(await Promise.resolve().then(r.bind(r,37923))).default(e)],apple:[async e=>(await Promise.resolve().then(r.bind(r,37))).default(e)],openGraph:[async e=>(await Promise.resolve().then(r.bind(r,65475))).default(e)],twitter:[async e=>(await Promise.resolve().then(r.bind(r,56273))).default(e)],manifest:void 0}}]}.children,c=["/Users/test/Documents/storefront/src/app/[channel]/(main)/search/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[channel]/(main)/search/page",pathname:"/[channel]/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},26502:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(78094),a=r(49302),n=r(34066),o=r(56624);function i({product:e,loading:t,priority:r}){return(0,s.jsx)("li",{"data-testid":"ProductElement",children:(0,s.jsx)(a.LinkWithChannel,{href:`/products/${e.slug}`,children:(0,s.jsxs)("div",{children:[e?.thumbnail?.url&&(0,s.jsx)(n.w,{loading:t,src:e.thumbnail.url,alt:e.thumbnail.alt??"",width:512,height:512,sizes:"512px",priority:r}),(0,s.jsxs)("div",{className:"mt-2 flex justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mt-1 text-sm font-semibold text-neutral-900",children:e.name}),(0,s.jsx)("p",{className:"mt-1 text-sm text-neutral-500","data-testid":"ProductElement_Category",children:e.category?.name})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-medium text-neutral-900","data-testid":"ProductElement_PriceRange",children:(0,o.Vj)({start:e?.pricing?.priceRange?.start?.gross,stop:e?.pricing?.priceRange?.stop?.gross})})]})]})},e.id)})}let l=({products:e})=>(0,s.jsx)("ul",{role:"list","data-testid":"ProductList",className:"grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:e.map((e,t)=>(0,s.jsx)(i,{product:e,priority:t<2,loading:t<3?"eager":"lazy"},e.id))})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34066:(e,t,r)=>{"use strict";r.d(t,{w:()=>n});var s=r(78094),a=r(24517);let n=e=>(0,s.jsx)("div",{className:"aspect-square overflow-hidden bg-neutral-50",children:(0,s.jsx)(a.default,{...e,className:"h-full w-full object-contain object-center p-2"})})},35345:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63338,23)),Promise.resolve().then(r.bind(r,5812))},36017:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63292,23)),Promise.resolve().then(r.bind(r,49302))},37740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>c});var s=r(78094),a=r(8509),n=r(61611),o=r(5980),i=r(51967),l=r(26502),d=r(65019);let c={title:"Search products \xb7 Saleor Storefront example",description:"Search products in Saleor Storefront example"};async function u(e){let[t,r]=await Promise.all([e.searchParams,e.params]),c="string"==typeof t.cursor?t.cursor:null,u=t.query;if(u||(0,a.notFound)(),Array.isArray(u)){let e=u.find(e=>e.length>0);e||(0,a.notFound)(),(0,a.redirect)(`/search?${new URLSearchParams({query:e}).toString()}`)}let{products:m}=await (0,o.z)(n.oxT,{variables:{first:d.H,search:u,after:c,sortBy:n.ExP.Rating,sortDirection:n.qqm.Asc,channel:r.channel},revalidate:60});m||(0,a.notFound)();let h=new URLSearchParams({query:u,...m.pageInfo.endCursor&&{cursor:m.pageInfo.endCursor}});return(0,s.jsx)("section",{className:"mx-auto max-w-7xl p-8 pb-16",children:m.totalCount&&m.totalCount>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"pb-8 text-xl font-semibold",children:['Search results for "',u,'":']}),(0,s.jsx)(l.E,{products:m.edges.map(e=>e.node)}),(0,s.jsx)(i.d,{pageInfo:{...m.pageInfo,basePathname:"/search",urlSearchParams:h}})]}):(0,s.jsx)("h1",{className:"mx-auto pb-8 text-center text-xl font-semibold",children:"Nothing found :("})})}},40984:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"6007aac8aec70d6195fa1ab925feb3bdc67f8b28dd":()=>s.x});var s=r(97895)},48728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"00bd4764d810289692c3f8ff98554d704ebd640313":()=>s.r});var s=r(12931)},51967:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var s=r(78094),a=r(2343),n=r(49302);async function o({pageInfo:e}){return(0,s.jsx)("nav",{className:"flex items-center justify-center gap-x-4 border-neutral-200 px-4 pt-12",children:(0,s.jsx)(n.LinkWithChannel,{href:e.hasNextPage?`${e.basePathname}?${e.urlSearchParams?.toString()}`:"#",className:(0,a.A)("px-4 py-2 text-sm font-medium ",{"rounded bg-neutral-900 text-neutral-50 hover:bg-neutral-800":e.hasNextPage,"cursor-not-allowed rounded border text-neutral-400":!e.hasNextPage,"pointer-events-none":!e.hasNextPage}),"aria-disabled":!e.hasNextPage,children:"Next page"})})}},56624:(e,t,r)=>{"use strict";r.d(t,{Vj:()=>n,Yq:()=>s,up:()=>a,yr:()=>o});let s=e=>new Intl.DateTimeFormat("en-US",{dateStyle:"medium"}).format(e),a=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),n=e=>{let{start:t,stop:r}=e||{},s=t&&a(t.amount,t.currency),n=r&&a(r.amount,r.currency);return s===n?s:`${s} - ${n}`};function o({productSlug:e,variantId:t}){let r=`/products/${encodeURIComponent(e)}`;if(!t)return r;let s=new URLSearchParams({variant:t});return`${r}?${s.toString()}`}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[340,958,198,335,123,623],()=>r(23440));module.exports=s})();